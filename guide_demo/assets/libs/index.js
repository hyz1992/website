System.register("chunks:///_virtual/EditorAssets.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t.warn}],execute:function(){n._RF.push({},"30eb5XBO9hFp6g/AAeV2xn9","EditorAssets",void 0);t("default",function(){function t(){}return t.load=function(t,n,r){return new Promise((function(t){return t(null),void e("[EditorAsset]","该函数只在编辑器环境内有效！")}))},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/function.ts",["cc"],(function(n){var r;return{setters:[function(n){r=n.cclegacy}],execute:function(){var t,e;n("_funcs",void 0),r._RF.push({},"b288bU1YzBIZrjeOfdQAI/i","function",void 0),(e=t||(t=n("_funcs",{}))).formatNumberWithThousandSeparator=function(n){if(void 0===n&&(n=0),"number"!=typeof n)return"";var r=n.toString().split("."),t=r[0].replace(/\B(?=(\d{3})+$)/g,",");return r.length>1&&(t+="."+r[1]),t},e.checkPolygonContainPoint=function(n,r){for(var t=n.x,e=n.y,i=!1,u=0,o=r.length,c=o-1;u<o;c=u,u++){var f=r[u].x,a=r[u].y,s=r[c].x,v=r[c].y;if(f===t&&a===e||s===t&&v===e)return 0;if(a<e&&v>=e||a>=e&&v<e){var g=f+(e-a)*(s-f)/(v-a);if(g===t)return 0;g>t&&(i=!i)}}return i?-1:1},r._RF.pop()}}}));

System.register("chunks:///_virtual/guide_hollow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./guide_step.ts"],(function(e){var t,r,o,n,i,a,h,s,u,c,l,p,d,S,w,f;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){n=e.cclegacy,i=e._decorator,a=e.Sprite,h=e.director,s=e.Director,u=e.v2,c=e.UITransform,l=e.Component,p=e.Material,d=e.Tween,S=e.tween},function(e){w=e.HollowShape,f=e.guide_step}],execute:function(){var _;n._RF.push({},"6c0a5MiCjhPXZKzP2Mu4uOr","guide_hollow",void 0);var m=i.ccclass,P=(i.property,i.requireComponent),g=(i.executeInEditMode,i.disallowMultiple),y=i.executionOrder;e("default",m(_=P(a)(_=g(_=y(-10)(_=function(e){function n(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this)._curStep=null,t.material=null,t.tweenRes=null,t._nextNoAni=!1,t}t(n,e);var i=n.prototype;return i.onLoad=function(){h.on(s.EVENT_BEFORE_SCENE_LAUNCH,this._onBeforeSceneLaunch,this),this.init()},i.onDestroy=function(){h.off(s.EVENT_BEFORE_SCENE_LAUNCH,this._onBeforeSceneLaunch,this)},i._onBeforeSceneLaunch=function(){this._nextNoAni=!0},i.init=function(){var e=r(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.material){e.next=7;break}if(!hyz.hollowEffect){e.next=6;break}this.material=new p,this.material.initialize({effectAsset:hyz.hollowEffect}),e.next=7;break;case 6:return e.abrupt("return");case 7:(t=this.node.getComponent(a))&&(t.sizeMode=a.SizeMode.CUSTOM,t.spriteFrame=hyz.whiteDot_spriteFrame,t.customMaterial=this.material,this.updateProperties());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.updateProperties=function(){var e=this.material;null!=this._curStep&&(e.setProperty("aspectRatio",this.getNodeSize().y/this.getNodeSize().x),e.setProperty("holeShape",this._curStep.hollowParam.holeShape),e.setProperty("center",this.getCenter(this._curStep.hollowParam.center)),e.setProperty("radius",this.getWidth(this._curStep.hollowParam.radius)),e.setProperty("rectSize",u(this.getWidth(this._curStep.rectSize.width),this.getHeight(this._curStep.rectSize.height))),e.setProperty("round",this.getRound(this._curStep.hollowParam.round)),e.setProperty("opacity",this._curStep.hollowParam.opacity/255))},i.tweenTo=function(){var e=r(o().mark((function e(t,r){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._curStep&&!this._nextNoAni){e.next=5;break}return this._curStep=f.createWithClickGuide(r.hollowParam,r.tag),this.updateProperties(),this._nextNoAni=this._curStep.holeShape==w.None,e.abrupt("return");case 5:if(!(r.holeShape==w.None||t<=0)){e.next=16;break}return t=0,this._curStep.center=r.hollowParam.center,this._curStep.radius=r.hollowParam.radius,this._curStep.rectSize=r.hollowParam.rectSize,this._curStep.holeShape=r.hollowParam.holeShape,this._curStep.opacity=r.hollowParam.opacity,this._curStep.round=r.hollowParam.round,this.updateProperties(),this._nextNoAni=this._curStep.holeShape==w.None,e.abrupt("return");case 16:return this._nextNoAni=!1,this._curStep.hollowParam.holeShape=r.hollowParam.holeShape,e.abrupt("return",new Promise((function(e){d.stopAllByTarget(n),n.unscheduleAllCallbacks(),n.tweenRes&&n.tweenRes(),n.tweenRes=e,S(n._curStep).to(t,{center:r.hollowParam.center,radius:r.hollowParam.radius,rectSize:r.hollowParam.rectSize,holeShape:r.hollowParam.holeShape,opacity:r.hollowParam.opacity,round:r.hollowParam.round},{onUpdate:function(e,t){n.updateProperties()}}).call((function(){n.scheduleOnce((function(){n.tweenRes&&(n.tweenRes(),n.tweenRes=null)}))})).start()})));case 19:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),i.getCenter=function(e){var t=this.getComponent(c),r=t.width,o=t.height,n=(e.x+r/2)/r,i=(-e.y+o/2)/o;return u(n,i)},i.getNodeSize=function(){var e=this.getComponent(c),t=e.width,r=e.height;return u(t,r)},i.getWidth=function(e){return e/this.getComponent(c).width},i.getHeight=function(e){return e/this.getComponent(c).width},i.getRound=function(e){return e/this.getComponent(c).width},n}(l))||_)||_)||_)||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/guide_manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./touch_blocker.ts","./guide_step.ts","./guide_hollow.ts","./guide_tip_base.ts","./persist_nodes.ts"],(function(e){var t,n,i,r,o,a,l,s,u,c,p,d,h,f,v,g,_,b,m,w,k,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.instantiate,c=e.Widget,p=e.error,d=e.assetManager,h=e.Component,f=e.log,v=e.find,g=e.assert},function(e){_=e.default},function(e){b=e.guide_step},function(e){m=e.default},function(e){w=e.guide_tip_base},function(e){k=e.getPersistNode,P=e.PersistNodeNames}],execute:function(){var S,x,I,N,A,C,W,B;l._RF.push({},"d08d06nxWdHBow04xjD4LNU","guide_manager",void 0);var y=s.property,G=s.ccclass,O=function(e){return e[e.None=0]="None",e[e.guiding=1]="guiding",e[e.paused=2]="paused",e[e.closed=3]="closed",e}(O||{});e("guide_manager",(S=G("guide_manager"),x=y(m),I=y(_),S(((B=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"hollowOut",C,r(t)),i(t,"touchBlocker",W,r(t)),t._clickSteps=[],t._curStep=null,t._state=O.None,t}n(t,e);var l=t.prototype;return l.setSteps=function(e){this._clickSteps=e,this._state=O.None},l.addStep=function(e){this._clickSteps.push(e)},l.insertNextStep=function(e){this._clickSteps.unshift(e)},l.checkGoNextStep=function(){var e=o(a().mark((function e(t){var n,i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=.2),n=this._curStep,this._curStep=null,0!=this._clickSteps.length){e.next=7;break}this.closeCurStep(),e.next=21;break;case 7:if(this._state!=O.guiding){e.next=9;break}return e.abrupt("return");case 9:return this._state=O.guiding,this.node.active||(t=0),this.show(),o=this._clickSteps.splice(0,1)[0],this._curStep=o,E("GUIDE_LOG,checkGoNextStep,下一步",o.tag),this.touchBlocker.blockAll(),e.next=18,this.hollowOut.tweenTo(t,o);case 18:this.touchBlocker.setStep(o),null!=o&&null!=(i=o.showEvent)&&i.onWillAppear&&(o.showEvent.onWillAppear(o),o.showEvent.onWillAppear=null),null!=n&&null!=(r=n.showEvent)&&r.onWillFinish&&n.showEvent.onWillFinish(n);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.pause=function(){this.hide(),this._state=O.paused},l.closeCurStep=function(){var e;if(this._state!=O.closed){this._state=O.closed,E("GUIDE_LOG,checkGoNextStep,closeCurStep",null==(e=this._curStep)?void 0:e.tag,"this._clickSteps.length",this._clickSteps.length);var t,n=this._curStep;if(this._curStep=null,n)null!=(t=n.showEvent)&&t.onWillFinish&&n.showEvent.onWillFinish(n);this._state==O.closed&&this.hide()}},l.show=function(){this.node.active=!0,this.hollowOut.node.active=!0,this.touchBlocker.node.active=!0},l.hide=function(){this.node.active=!1,this.hollowOut.node.active=!1,this.touchBlocker.node.active=!1},t.getInstance=function(){var e=k(P.GuideMgr);if(null==e)return null;var n=e.getComponentInChildren(t);if(null==n){var i=u(hyz.guidePrefab);i.parent=e,(n=i.getComponent(t)).getComponent(c).updateAlignment(),n.hollowOut.getComponent(c).updateAlignment(),n.touchBlocker.getComponent(c).updateAlignment(),n.node.active=!1,n.hollowOut.node.active=!1,n.touchBlocker.node.active=!1}return n},l.loadPrefab=function(e,t){return new Promise(o(a().mark((function n(i,r){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=(o=d.getBundle(e))){n.next=5;break}return n.next=4,new Promise((function(t,n){d.loadBundle(e,{},(function(e,i){e?n():t(i)}))}));case 4:o=n.sent;case 5:o.load(t,(function(e,n){e?(p("加载asset失败, url:"+t+", err: "+e),i(null)):i(n)}));case 6:case"end":return n.stop()}}),n)}))))},l.playGuideList=function(e,n){var i,r=this,l={},s=null;(i=function(){var c=o(a().mark((function c(d){var f,_,m,k,P;return a().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=(m=e[d])){c.next=4;break}return n&&n(),c.abrupt("return");case 4:if(null==(f=m.tipPrefab)||!f.prefabPath||null!=l[null==(_=m.tipPrefab)?void 0:_.prefabPath]){c.next=8;break}return c.next=7,new Promise(o(a().mark((function e(n,i){var o,l,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadPrefab(m.tipPrefab.bundleName,m.tipPrefab.prefabPath);case 2:if(null!=(o=e.sent)){e.next=7;break}return p("引导提示UI的prefab不存在"),i(),e.abrupt("return");case 7:(l=u(o)).parent=t.getInstance().node,null==(s=l.getComponent(w))&&(p("引导提示UI必须继承自 guide_tip_base"),i()),s.node.active=!1,n(s);case 13:case"end":return e.stop()}}),e)}))));case 7:l[null==(k=m.tipPrefab)?void 0:k.prefabPath]=c.sent;case 8:P=function(n){var o=null;m.targetPath&&(o=v(m.targetPath,n),g(null!=o,"高亮节点路径不对"+m.targetPath)),m.bWaitBtn&&o?(s=b.createWithBtnNode(o,m.stepId)).bNoAutoCloseWithBtnClick=m.bNoAutoCloseWithBtnClick:s=b.createWithoutClick(o,m.stepId),s.setShowEvent({onWillAppear:function(){var e,n;m.tipParams&&l[null==(e=m.tipPrefab)?void 0:e.prefabPath]&&(l[null==(n=m.tipPrefab)?void 0:n.prefabPath].initGuideTip(m.tipParams),E(m.stepId,"onWillAppear,显示tipUI",m.tipPrefab,m.tipParams));m.eventAfterOpen&&r.node.emit(t.event_guide_emit,m.eventAfterOpen)},onWillFinish:function(){var n,o,a,s,u,c,p,h,f;l[null==(n=m.tipPrefab)?void 0:n.prefabPath]&&((null==(o=e[d+1])||null==(a=o.tipPrefab)?void 0:a.prefabPath)==(null==(s=m.tipPrefab)?void 0:s.prefabPath)&&(null==(u=e[d+1])||null==(c=u.tipPrefab)?void 0:c.bundleName)==(null==(p=m.tipPrefab)?void 0:p.bundleName)&&(null==(h=e[d+1])?void 0:h.tipParams)||l[null==(f=m.tipPrefab)?void 0:f.prefabPath].hide());i(d+1),m.eventAfterClose?m.eventAfterClose.wait?(E(m.stepId,"onWillfinish,1等待:",m.eventAfterClose.wait),r.node.once(m.eventAfterClose.wait,(function(){E(m.stepId,"onWillfinish,2发送:",m.eventAfterClose.emit),r.node.emit(t.event_guide_emit,m.eventAfterClose.emit),r.checkGoNextStep()}),r)):(E(m.stepId,"onWillfinish,3发送"),r.node.emit(t.event_guide_emit,m.eventAfterClose.emit),r.checkGoNextStep()):(E(m.stepId,"onWillfinish,4"),r.checkGoNextStep())}}),r.addStep(s),E(m.stepId,"handler,addStep,","stepId:"+m.stepId+",desc:"+m.desc)},m.eventBeforeOpen&&(E(m.stepId,"handler,eventBeforeOpen:",m.eventBeforeOpen),r.node.emit(t.event_guide_emit,m.eventBeforeOpen)),m.waitForEvent?(E(m.stepId,"func,1,等待事件",m.waitForEvent),r.node.once(m.waitForEvent,(function(e){E(m.stepId,"func,2,已触发等待事件",m.waitForEvent),e instanceof h?(P(e.node),r.checkGoNextStep()):(P(e),r.checkGoNextStep())}),r)):(E(m.stepId,"func,2,直接执行","idx:"+d),P(null),0==d&&r.checkGoNextStep());case 11:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())(0)},t.emitToSelf=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.getInstance().node).emit.apply(t,[e].concat(i))},t}(h)).event_guide_emit="event_guide_emit",C=t((A=B).prototype,"hollowOut",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(A.prototype,"touchBlocker",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=A))||N));function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];f.apply(void 0,["GUIDE_LOG",e].concat(n))}l._RF.pop()}}}));

System.register("chunks:///_virtual/guide_step.ts",["./rollupPluginModLoBabelHelpers.js","cc","./function.ts"],(function(e){var t,i,r,n,h,o,s,c,u;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,r=e.v2,n=e.size,h=e.Vec2,o=e.UITransform,s=e.v3,c=e.isValid},function(e){u=e._funcs}],execute:function(){i._RF.push({},"59ab1fUpT9DM4FeWY3Tkqhh","guide_step",void 0);var a=e("HollowShape",function(e){return e[e.None=0]="None",e[e.Circle=1]="Circle",e[e.Rect=2]="Rect",e[e.Hex=3]="Hex",e}({}));e("guide_step",function(){function e(e,t){void 0===t&&(t=0),this.tag=0,this.bFinishByBg=void 0,this.bNoAutoCloseWithBtnClick=!1,this._showEvent=void 0,this._holeShape=void 0,this._center=void 0,this._radius=void 0,this._rectSize=n(0,0),this.round=0,this.opacity=200,this._vertexArr=[],this.bFinishByBg=e,this.tag=t}e.createWithClickGuide=function(t,i){var r,n,h;void 0===i&&(i=0);var o=new e(!1,i);return o._holeShape=null!=(r=t.holeShape)?r:a.Rect,o._center=t.center,o._radius=t.radius,t.rectSize&&(o._rectSize=t.rectSize),o.round=null!=(n=t.round)?n:0,o.opacity=null!=(h=t.opacity)?h:200,o._updateVertex(),o},e.createWithBtnNode=function(t,i){void 0===i&&(i=0);var n=t.getWorldPosition();n=hyz.guide_manager.getInstance().node.getComponent(o).convertToNodeSpaceAR(n);var h=t.getComponent(o).contentSize.clone(),c=s(1,1,1);return t.getWorldScale(c),h.width*=c.x,h.height*=c.y,e.createWithClickGuide({holeShape:hyz.HollowShape.Rect,center:r(n.x,n.y),radius:.5*h.width*1.414,rectSize:h,round:10},i)},e.createWithoutClick=function(t,i){var n;return void 0===t&&(t=null),void 0===i&&(i=0),c(t)?(n=e.createWithBtnNode(t,i)).bFinishByBg=!0:((n=new e(!0,i))._center=r(0,0),n._radius=0,n.round=0,n.opacity=200,n._holeShape=a.None),n};var i=e.prototype;return i.setShowEvent=function(e){return this._showEvent=e,this},i.checkHasClick=function(){return this.holeShape!=a.None},i._updateVertex=function(){this._vertexArr=[];var e=4;this.holeShape==a.Hex&&(e=6);var t=360/e,i=this.radius,h=0;e%2==0&&(h=-t/2);for(var o=[h],s=1;s<e;s++)h+=t,o.push(h);for(var c=0;c<o.length;c++)h=o[c],this._vertexArr[c]=r(i*Math.sin(h/180*3.14)+this.center.x,i*Math.cos(h/180*3.14)+this.center.y);if(this.holeShape==a.Rect&&!this.rectSize.equals(n(0,0))){this._vertexArr=[];for(var u=[r(-.5,.5),r(.5,.5),r(.5,-.5),r(-.5,-.5)],l=0;l<4;l++)this._vertexArr[l]=r(this.rectSize.width*u[l].x+this.center.x,this.rectSize.height*u[l].y+this.center.y)}},i.getVerterArr=function(){return this._vertexArr},i.checkContain=function(e){if(this.holeShape==a.Circle)return h.distance(e,this.center)<this.radius;if(this.holeShape==a.Rect||this.holeShape==a.Hex){var t=this.getVerterArr();return-1==u.checkPolygonContainPoint(e,t)}return!1},t(e,[{key:"showEvent",get:function(){return this._showEvent}},{key:"holeShape",get:function(){return this._holeShape},set:function(e){this._holeShape!=e&&(this._updateVertex(),this._holeShape=e)}},{key:"center",get:function(){return this._center},set:function(e){this._center!=e&&(this._updateVertex(),this._center=e)}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius!=e&&(this._updateVertex(),this._radius=e)}},{key:"rectSize",get:function(){return this._rectSize},set:function(e){this._rectSize.equals(e)||(this._updateVertex(),this._rectSize.set(e))}},{key:"hollowParam",get:function(){return this}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/guide_tip_base.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.Component}],execute:function(){e._RF.push({},"65831uuj1tIPrcWF/ZE7mSe","guide_tip_base",void 0);i("guide_tip_base",function(i){function e(){return i.apply(this,arguments)||this}t(e,i);var n=e.prototype;return n.initGuideTip=function(i){throw new Error("子类必须实现initGuideTip方法")},n.hide=function(){this.node.active=!1},e}(n));e._RF.pop()}}}));

System.register("chunks:///_virtual/hyz_export.ts",["cc","./guide_manager.ts","./guide_tip_base.ts","./guide_step.ts","./function.ts"],(function(e){var t,i,a,n;return{setters:[function(e){t=e.cclegacy,i=e.ImageAsset,a=e.Texture2D,n=e.SpriteFrame},function(t){e("guide_manager",t.guide_manager)},function(t){e("guide_tip_base",t.guide_tip_base)},function(t){var i={};i.HollowShape=t.HollowShape,i.guide_step=t.guide_step,e(i)},function(t){e("_funcs",t._funcs)}],execute:function(){t._RF.push({},"79985YFOYhDyp/6env21LMh","hyz_export",void 0);var r={picData:new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]),width:2,height:2},u=new i;u.reset({_data:r.picData,width:r.width,height:r.height,format:a.PixelFormat.RGBA8888,_compressed:!1});var s=new a;s.image=u;var _=new n;_.texture=s,_.packable=!1,_.ensureMeshData();e("whiteDot_texture",s),e("whiteDot_spriteFrame",_);t._RF.pop()}}}));

System.register("chunks:///_virtual/hyz_init.ts",["cc","./hyz_export.ts"],(function(){var e,t,i,n,o,r,c,f;return{setters:[function(f){e=f.cclegacy,t=f.director,i=f.Director,n=f.assetManager,o=f.error,r=f.EffectAsset,c=f.Prefab},function(e){f=e}],execute:function(){e._RF.push({},"da51biL59lLHordMrOiZ0QY","hyz_init",void 0),window.hyz=f;var u=f;t.once(i.EVENT_AFTER_SCENE_LAUNCH,(function(){n.loadBundle("libs",{},(function(e,t){e?o("libs bundle不存在"):(t.load("hyz/guide/effect/hollow",r,(function(e,t){e?o("hyz/guide/effect/hollow.effect not exist"):u.hollowEffect=t})),t.load("hyz/guide/pfb_guide_manager",c,(function(e,t){e?o("hyz/guide/pfb_guide_manager.prefab not exist"):u.guidePrefab=t})))}))})),e._RF.pop()}}}));

System.register("chunks:///_virtual/libs",["./EditorAssets.ts","./guide_hollow.ts","./guide_manager.ts","./guide_step.ts","./guide_tip_base.ts","./touch_blocker.ts","./hyz_export.ts","./hyz_init.ts","./function.ts","./persist_nodes.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/persist_nodes.ts",["cc"],(function(e){var i,o,n,t,r,d,s,a,l;return{setters:[function(e){i=e.cclegacy,o=e.v2,n=e.Node,t=e.Layers,r=e.Canvas,d=e.director,s=e.view,a=e.UITransform,l=e.Widget}],execute:function(){var g;e("getPersistNode",(function(e,i,l){void 0===i&&(i=o(0,0));void 0===l&&(l=null);if(null==p){(p=new n("_globalNode")).setSiblingIndex(100),p.layer=t.Enum.UI_2D,p.addComponent(r).alignCanvasWithScreen=!0,v(p),d.addPersistRootNode(p)}var g=s.getVisibleSize();p.setPosition(g.width/2,g.height/2);var u=p.getChildByName(e);if(!u){u=new n(e);var h=c[e]||0;p.addChild(u),u.setSiblingIndex(h)}i&&u.setPosition(i.x,i.y);if(l){var f=u.getComponent(a);null==f&&(f=u.addComponent(a)),f.contentSize=l}else v(u);return u})),i._RF.push({},"bd0c8Z0RhdDU4EDNcpPWC8+","persist_nodes",void 0);var u=e("PersistNodeNames",function(e){return e.PopuMgr="PopuMgr",e.GuideMgr="GuideMgr",e.ToastMgr="ToastMgr",e.LoadingTip="LoadingTip",e.SoundMgr="SoundMgr",e.GlobalScheduler="GlobalScheduler",e.GlobalAni="GlobalAni",e.AudioNode="AudioNode",e}({})),c=((g={})[u.PopuMgr]=1,g[u.GuideMgr]=2,g[u.ToastMgr]=4,g[u.LoadingTip]=5,g),p=null;function v(e){var i=e.getComponent(l)||e.addComponent(l);i.isAlignLeft=!0,i.isAlignRight=!0,i.isAlignTop=!0,i.isAlignBottom=!0,i.left=0,i.right=0,i.top=0,i.bottom=0}i._RF.pop()}}}));

System.register("chunks:///_virtual/touch_blocker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,s,c,l,u,p,a,h,S,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Sprite,l=t.director,u=t.Director,p=t.NodeEventType,a=t.UITransform,h=t.v3,S=t.size,d=t.Component}],execute:function(){var g,f,_,v;r._RF.push({},"71437kWdHVCmLmmcgwncIi7","touch_blocker",void 0);var m=s.ccclass,T=s.property,A=(t("default",(g=T(c),m((v=e((_=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).isBlockAll=!1,e.isPassAll=!1,n(e,"debugSpr",v,o(e)),e._curStep=null,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.registerEvent()},r.start=function(){},r.onDestroy=function(){this.unregisterEvent()},r.registerEvent=function(){this.node.on(p.TOUCH_START,this.onTouchEvent,this),this.node.on(p.TOUCH_MOVE,this.onTouchEvent,this),this.node.on(p.TOUCH_END,this.onTouchEvent,this)},r.unregisterEvent=function(){this.node.targetOff(this)},r.onTouchEvent=function(t){if(!this.isPassAll)if(!this.isBlockAll&&this._curStep){if(this._curStep.bFinishByBg)return t.preventSwallow=!1,t.propagationImmediateStopped=!0,void(t.type==p.TOUCH_START&&hyz.guide_manager.getInstance().closeCurStep());if(A)t.propagationImmediateStopped=!0;else{var e=t.getUILocation();e=t.target.getComponent(a).convertToNodeSpaceAR(h(e.x,e.y,0)),this._curStep.checkContain(e)?(t.preventSwallow=!0,this._curStep.bNoAutoCloseWithBtnClick||t.type==p.TOUCH_END&&hyz.guide_manager.getInstance().closeCurStep()):(t.preventSwallow=!1,t.propagationImmediateStopped=!0)}}else t.propagationImmediateStopped=!0},r.blockAll=function(){this.isBlockAll=!0,this.isPassAll=!1},r.passAll=function(){this.isPassAll=!0,this.isBlockAll=!1},r.setStep=function(t){this._curStep=t,this.isBlockAll=!1,this.isPassAll=!1,this.debugSpr&&(this._curStep.rectSize.equals(S(0,0))||this.debugSpr.getComponent(a).setContentSize(this._curStep.rectSize),this.debugSpr.node.position=h(this._curStep.center.x,this._curStep.center.y,0))},e}(d)).prototype,"debugSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=_))||f)),!0),y=0;l.on(u.EVENT_AFTER_SCENE_LAUNCH,(function(){A=!0,clearTimeout(y),y=setTimeout((function(){A=!1}),2e3)})),r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/libs', 'chunks:///_virtual/libs'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});